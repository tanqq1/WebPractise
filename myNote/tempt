<template>
  <div class="cons-way">
    <div v-if="!loadingshow">
      <div class="flex cont">
        <div>咨询电话</div>
        <div>{{data.consTel}} <em @click="phoneCall(data.consTel)"></em></div>
      </div>
      <div class="flex cont th_border">
        <div>收信地址</div>
        <div>{{data.address}}</div>
      </div>
      <div class="flex cont th_border">
        <div>邮箱</div>
        <div>{{data.email}}</div>
      </div>
      <div class="flex cont th_border">
        <div>窗口咨询地址</div>
        <div>{{data.windowConsting}}</div>
      </div>
      <div class="flex cont th_border">
        <div>网上咨询地址</div>
        <div>{{data.onlineConsting}}</div>
      </div>
    </div>
    <loading class="loading" v-if="loadingshow"></loading>
  </div>
</template>

<script>
import loading from '@/components/loading.vue'
import { consWay } from '@/api/index'
import { Toast } from 'vant'
export default {
  name: 'handelDetail',
  data() {
    return {
      loadingshow: true,
      data: {}
    }
  },
  created() {
    this.getInfo()
  },
  methods: {
    getInfo() {
      consWay().then(res => {
        if (res.meta.code >= 0) {
          this.loadingshow = false
          this.data = res.data
        } else {
          Toast.fail('网络异常，请重新加载')
        }
      }, () => {
        Toast.fail('网络异常，请重新加载')
      })
    },
    phoneCall: function(msg) {
      window.location.href = `tel://${this.data.consTel}`
    }
  },
  components: {
    loading
  }
}
</script>

<style lang="scss" scoped>
$borc: #dddee3;
$lc: #8e8e93;
$conc: #222222;
$fsm: 15px;
.cons-way {
  background: #fff;
  .cont {
    padding-top: 12px;
    padding-bottom: 10px;
    width: calc(100% - 15px);
    margin-left: 15px;
    padding-right: 15px;
    font-size: $fsm;
    &:first-child {
      position: relative;
      em {
        position: absolute;
        right: 15px;
        top: 10px;
        width: 24px;
        height: 24px;
        background: url('../../../assets/tel.png') no-repeat center 0;
        background-size: cover
      }
    }
    &:last-child {
      border: none;
    }
    &>div{
      &:first-child {
        width: 100px;
        color: $lc;
      }
      &:last-child {
        flex: 1;
        color: $conc;
      }
    }
  }
}
.flex {
  display: flex;
}
</style>
